"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/generate-voice/route";
exports.ids = ["app/api/generate-voice/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate-voice%2Froute&page=%2Fapi%2Fgenerate-voice%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-voice%2Froute.ts&appDir=C%3A%5CUsers%5CDELL%5COneDrive%5CDesktop%5Cml%20project%5Cai_weathervoice%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDELL%5COneDrive%5CDesktop%5Cml%20project%5Cai_weathervoice&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate-voice%2Froute&page=%2Fapi%2Fgenerate-voice%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-voice%2Froute.ts&appDir=C%3A%5CUsers%5CDELL%5COneDrive%5CDesktop%5Cml%20project%5Cai_weathervoice%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDELL%5COneDrive%5CDesktop%5Cml%20project%5Cai_weathervoice&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_DELL_OneDrive_Desktop_ml_project_ai_weathervoice_app_api_generate_voice_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/generate-voice/route.ts */ \"(rsc)/./app/api/generate-voice/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/generate-voice/route\",\n        pathname: \"/api/generate-voice\",\n        filename: \"route\",\n        bundlePath: \"app/api/generate-voice/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\DELL\\\\OneDrive\\\\Desktop\\\\ml project\\\\ai_weathervoice\\\\app\\\\api\\\\generate-voice\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_DELL_OneDrive_Desktop_ml_project_ai_weathervoice_app_api_generate_voice_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/generate-voice/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZnZW5lcmF0ZS12b2ljZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZ2VuZXJhdGUtdm9pY2UlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZnZW5lcmF0ZS12b2ljZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNERUxMJTVDT25lRHJpdmUlNUNEZXNrdG9wJTVDbWwlMjBwcm9qZWN0JTVDYWlfd2VhdGhlcnZvaWNlJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNERUxMJTVDT25lRHJpdmUlNUNEZXNrdG9wJTVDbWwlMjBwcm9qZWN0JTVDYWlfd2VhdGhlcnZvaWNlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNtRDtBQUNoSTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2FpX3dlYXRoZXJ2b2ljZS8/ZjJjNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxERUxMXFxcXE9uZURyaXZlXFxcXERlc2t0b3BcXFxcbWwgcHJvamVjdFxcXFxhaV93ZWF0aGVydm9pY2VcXFxcYXBwXFxcXGFwaVxcXFxnZW5lcmF0ZS12b2ljZVxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZ2VuZXJhdGUtdm9pY2Uvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9nZW5lcmF0ZS12b2ljZVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvZ2VuZXJhdGUtdm9pY2Uvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxERUxMXFxcXE9uZURyaXZlXFxcXERlc2t0b3BcXFxcbWwgcHJvamVjdFxcXFxhaV93ZWF0aGVydm9pY2VcXFxcYXBwXFxcXGFwaVxcXFxnZW5lcmF0ZS12b2ljZVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvZ2VuZXJhdGUtdm9pY2Uvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate-voice%2Froute&page=%2Fapi%2Fgenerate-voice%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-voice%2Froute.ts&appDir=C%3A%5CUsers%5CDELL%5COneDrive%5CDesktop%5Cml%20project%5Cai_weathervoice%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDELL%5COneDrive%5CDesktop%5Cml%20project%5Cai_weathervoice&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/generate-voice/route.ts":
/*!*****************************************!*\
  !*** ./app/api/generate-voice/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var _app_lib_gemini_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/app/lib/gemini-api */ \"(rsc)/./app/lib/gemini-api.ts\");\n/* harmony import */ var _app_lib_elevenlabs_tts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/app/lib/elevenlabs-tts */ \"(rsc)/./app/lib/elevenlabs-tts.ts\");\n\n\n\n\n// Maximum retries for speech synthesis\nconst MAX_RETRIES = 2;\n// Simple fallback text-to-speech function (for when ElevenLabs is not available)\nasync function fallbackTTS(text) {\n    try {\n        // Use a free TTS API as fallback\n        const response = await (0,axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n            method: \"GET\",\n            url: `https://translate.google.com/translate_tts?ie=UTF-8&q=${encodeURIComponent(text.substring(0, 200) // Limit length for free API\n            )}&tl=en&client=tw-ob`,\n            responseType: \"arraybuffer\"\n        });\n        return Buffer.from(response.data);\n    } catch (error) {\n        console.error(\"Fallback TTS failed:\", error);\n        throw new Error(\"Both primary and fallback TTS failed\");\n    }\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { weatherData, motivationalMessage, sendNow, deliveryMethod, contactInfo } = body;\n        // Validate input\n        if (!weatherData) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Weather data is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Explicitly log the received weatherData for debugging\n        console.log(\"Received weather data:\", JSON.stringify(weatherData));\n        const { city, temperature, description } = weatherData;\n        if (!city || temperature === undefined || !description) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Weather data must include city, temperature, and description\"\n            }, {\n                status: 400\n            });\n        }\n        console.log(\"Generating voice note for\", city);\n        console.log(\"Weather:\", temperature, description);\n        if (motivationalMessage) {\n            console.log(\"Motivational message:\", motivationalMessage);\n        }\n        try {\n            // Generate voice content using Gemini\n            const voiceContent = await (0,_app_lib_gemini_api__WEBPACK_IMPORTED_MODULE_1__.generateWeatherUpdate)(weatherData, motivationalMessage);\n            console.log(\"Generated voice content:\", voiceContent.substring(0, 100) + \"...\");\n            // Try to synthesize speech with ElevenLabs first\n            let audioFilename = \"\";\n            let usedFallback = false;\n            let maxRetries = 2;\n            let retryCount = 0;\n            let error = null;\n            while(retryCount <= maxRetries){\n                try {\n                    console.log(`ElevenLabs synthesis attempt ${retryCount + 1}/${maxRetries + 1}`);\n                    audioFilename = await (0,_app_lib_elevenlabs_tts__WEBPACK_IMPORTED_MODULE_2__.synthesizeSpeech)(voiceContent);\n                    console.log(\"Successfully generated audio:\", audioFilename);\n                    break;\n                } catch (err) {\n                    error = err;\n                    console.error(`ElevenLabs synthesis attempt ${retryCount + 1} failed:`, err);\n                    retryCount++;\n                    if (retryCount > maxRetries) {\n                        console.log(\"All ElevenLabs attempts failed, trying fallback TTS...\");\n                        // Use fallback TTS service\n                        try {\n                            const fallbackResponse = await fetch(new URL(\"/api/elevenlabs-fallback\", request.url).toString(), {\n                                method: \"POST\",\n                                headers: {\n                                    \"Content-Type\": \"application/json\"\n                                },\n                                body: JSON.stringify({\n                                    text: voiceContent\n                                })\n                            });\n                            if (!fallbackResponse.ok) {\n                                throw new Error(`Fallback TTS failed with status: ${fallbackResponse.status}`);\n                            }\n                            const fallbackData = await fallbackResponse.json();\n                            audioFilename = fallbackData.audioFilename;\n                            usedFallback = true;\n                            console.log(\"Successfully used fallback TTS:\", audioFilename);\n                        } catch (fallbackErr) {\n                            console.error(\"Fallback TTS also failed:\", fallbackErr);\n                            throw new Error(\"Both primary and fallback TTS services failed\");\n                        }\n                    }\n                }\n            }\n            if (!audioFilename) {\n                throw new Error(\"Failed to generate audio\");\n            }\n            // If sendNow is true, send the voice note immediately\n            let sendResult = null;\n            if (sendNow && deliveryMethod && contactInfo) {\n                try {\n                    // Implementation for sending the voice note via the specified delivery method\n                    // This could be email, SMS, etc.\n                    console.log(`Sending voice note via ${deliveryMethod} to ${contactInfo}`);\n                    // Send the voice note\n                    const sendResponse = await fetch(new URL(\"/api/send-voice\", request.url).toString(), {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            audioFilename,\n                            deliveryMethod,\n                            contactInfo,\n                            weatherData\n                        })\n                    });\n                    sendResult = await sendResponse.json();\n                    console.log(\"Send result:\", sendResult);\n                } catch (err) {\n                    console.error(\"Error sending voice note:\", err);\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        error: \"Failed to send voice note\",\n                        audioFilename,\n                        usedFallback\n                    }, {\n                        status: 500\n                    });\n                }\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                audioFilename,\n                sendResult,\n                usedFallback\n            });\n        } catch (error) {\n            console.error(\"Error generating voice note:\", error);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to generate voice note\",\n                details: error.message\n            }, {\n                status: 500\n            });\n        }\n    } catch (error) {\n        console.error(\"Error processing request:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Invalid request\"\n        }, {\n            status: 400\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGdCQUFnQnFCO2dCQUM5QixFQUFFLE9BQU9ULEtBQUs7b0JBQ1p4QixRQUFRRCxLQUFLLENBQUMsNkJBQTZCeUI7b0JBQzNDLE9BQU96QyxxREFBWUEsQ0FBQ3NCLElBQUksQ0FDdEI7d0JBQ0VOLE9BQU87d0JBQ1BxQjt3QkFDQUM7b0JBQ0YsR0FDQTt3QkFBRVYsUUFBUTtvQkFBSTtnQkFFbEI7WUFDRjtZQUVBLE9BQU81QixxREFBWUEsQ0FBQ3NCLElBQUksQ0FBQztnQkFDdkI4QixTQUFTO2dCQUNUZjtnQkFDQWE7Z0JBQ0FaO1lBQ0Y7UUFDRixFQUFFLE9BQU90QixPQUFZO1lBQ25CQyxRQUFRRCxLQUFLLENBQUMsZ0NBQWdDQTtZQUM5QyxPQUFPaEIscURBQVlBLENBQUNzQixJQUFJLENBQ3RCO2dCQUFFTixPQUFPO2dCQUFpQ3FDLFNBQVNyQyxNQUFNc0MsT0FBTztZQUFDLEdBQ2pFO2dCQUFFMUIsUUFBUTtZQUFJO1FBRWxCO0lBQ0YsRUFBRSxPQUFPWixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyw2QkFBNkJBO1FBQzNDLE9BQU9oQixxREFBWUEsQ0FBQ3NCLElBQUksQ0FDdEI7WUFBRU4sT0FBTztRQUFrQixHQUMzQjtZQUFFWSxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpX3dlYXRoZXJ2b2ljZS8uL2FwcC9hcGkvZ2VuZXJhdGUtdm9pY2Uvcm91dGUudHM/MjkzNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IGdlbmVyYXRlV2VhdGhlclVwZGF0ZSB9IGZyb20gJ0AvYXBwL2xpYi9nZW1pbmktYXBpJztcbmltcG9ydCB7IHN5bnRoZXNpemVTcGVlY2ggfSBmcm9tICdAL2FwcC9saWIvZWxldmVubGFicy10dHMnO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgeyB3ZWF0aGVyRGF0YSB9IGZyb20gJ0AvYXBwL3R5cGVzJztcblxuLy8gRGVmaW5lIHRoZSBleHBlY3RlZCByZXF1ZXN0IGJvZHkgdHlwZVxuaW50ZXJmYWNlIEdlbmVyYXRlVm9pY2VSZXF1ZXN0IHtcbiAgd2VhdGhlckRhdGE6IHdlYXRoZXJEYXRhO1xuICBtb3RpdmF0aW9uYWxNZXNzYWdlPzogc3RyaW5nO1xuICBkZWxpdmVyeU1ldGhvZD86ICdlbWFpbCcgfCAndGVsZWdyYW0nIHwgJ3R3aWxpby1jYWxsJyB8ICd0d2lsaW8tc21zJztcbiAgY29udGFjdEluZm8/OiBzdHJpbmc7XG4gIHNlbmROb3c/OiBib29sZWFuO1xufVxuXG4vLyBNYXhpbXVtIHJldHJpZXMgZm9yIHNwZWVjaCBzeW50aGVzaXNcbmNvbnN0IE1BWF9SRVRSSUVTID0gMjtcblxuLy8gU2ltcGxlIGZhbGxiYWNrIHRleHQtdG8tc3BlZWNoIGZ1bmN0aW9uIChmb3Igd2hlbiBFbGV2ZW5MYWJzIGlzIG5vdCBhdmFpbGFibGUpXG5hc3luYyBmdW5jdGlvbiBmYWxsYmFja1RUUyh0ZXh0OiBzdHJpbmcpOiBQcm9taXNlPEJ1ZmZlcj4ge1xuICB0cnkge1xuICAgIC8vIFVzZSBhIGZyZWUgVFRTIEFQSSBhcyBmYWxsYmFja1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3Moe1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHVybDogYGh0dHBzOi8vdHJhbnNsYXRlLmdvb2dsZS5jb20vdHJhbnNsYXRlX3R0cz9pZT1VVEYtOCZxPSR7ZW5jb2RlVVJJQ29tcG9uZW50KFxuICAgICAgICB0ZXh0LnN1YnN0cmluZygwLCAyMDApICAvLyBMaW1pdCBsZW5ndGggZm9yIGZyZWUgQVBJXG4gICAgICApfSZ0bD1lbiZjbGllbnQ9dHctb2JgLFxuICAgICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInXG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHJlc3BvbnNlLmRhdGEpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhbGxiYWNrIFRUUyBmYWlsZWQ6JywgZXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcignQm90aCBwcmltYXJ5IGFuZCBmYWxsYmFjayBUVFMgZmFpbGVkJyk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCkgYXMgR2VuZXJhdGVWb2ljZVJlcXVlc3Q7XG4gICAgY29uc3QgeyB3ZWF0aGVyRGF0YSwgbW90aXZhdGlvbmFsTWVzc2FnZSwgc2VuZE5vdywgZGVsaXZlcnlNZXRob2QsIGNvbnRhY3RJbmZvIH0gPSBib2R5O1xuXG4gICAgLy8gVmFsaWRhdGUgaW5wdXRcbiAgICBpZiAoIXdlYXRoZXJEYXRhKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdXZWF0aGVyIGRhdGEgaXMgcmVxdWlyZWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBFeHBsaWNpdGx5IGxvZyB0aGUgcmVjZWl2ZWQgd2VhdGhlckRhdGEgZm9yIGRlYnVnZ2luZ1xuICAgIGNvbnNvbGUubG9nKCdSZWNlaXZlZCB3ZWF0aGVyIGRhdGE6JywgSlNPTi5zdHJpbmdpZnkod2VhdGhlckRhdGEpKTtcblxuICAgIGNvbnN0IHsgY2l0eSwgdGVtcGVyYXR1cmUsIGRlc2NyaXB0aW9uIH0gPSB3ZWF0aGVyRGF0YTtcbiAgICBpZiAoIWNpdHkgfHwgdGVtcGVyYXR1cmUgPT09IHVuZGVmaW5lZCB8fCAhZGVzY3JpcHRpb24pIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ1dlYXRoZXIgZGF0YSBtdXN0IGluY2x1ZGUgY2l0eSwgdGVtcGVyYXR1cmUsIGFuZCBkZXNjcmlwdGlvbicgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdHZW5lcmF0aW5nIHZvaWNlIG5vdGUgZm9yJywgY2l0eSk7XG4gICAgY29uc29sZS5sb2coJ1dlYXRoZXI6JywgdGVtcGVyYXR1cmUsIGRlc2NyaXB0aW9uKTtcbiAgICBpZiAobW90aXZhdGlvbmFsTWVzc2FnZSkge1xuICAgICAgY29uc29sZS5sb2coJ01vdGl2YXRpb25hbCBtZXNzYWdlOicsIG1vdGl2YXRpb25hbE1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBHZW5lcmF0ZSB2b2ljZSBjb250ZW50IHVzaW5nIEdlbWluaVxuICAgICAgY29uc3Qgdm9pY2VDb250ZW50ID0gYXdhaXQgZ2VuZXJhdGVXZWF0aGVyVXBkYXRlKHdlYXRoZXJEYXRhLCBtb3RpdmF0aW9uYWxNZXNzYWdlKTtcbiAgICAgIGNvbnNvbGUubG9nKCdHZW5lcmF0ZWQgdm9pY2UgY29udGVudDonLCB2b2ljZUNvbnRlbnQuc3Vic3RyaW5nKDAsIDEwMCkgKyAnLi4uJyk7XG5cbiAgICAgIC8vIFRyeSB0byBzeW50aGVzaXplIHNwZWVjaCB3aXRoIEVsZXZlbkxhYnMgZmlyc3RcbiAgICAgIGxldCBhdWRpb0ZpbGVuYW1lID0gJyc7XG4gICAgICBsZXQgdXNlZEZhbGxiYWNrID0gZmFsc2U7XG4gICAgICBsZXQgbWF4UmV0cmllcyA9IDI7XG4gICAgICBsZXQgcmV0cnlDb3VudCA9IDA7XG4gICAgICBsZXQgZXJyb3IgPSBudWxsO1xuXG4gICAgICB3aGlsZSAocmV0cnlDb3VudCA8PSBtYXhSZXRyaWVzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYEVsZXZlbkxhYnMgc3ludGhlc2lzIGF0dGVtcHQgJHtyZXRyeUNvdW50ICsgMX0vJHttYXhSZXRyaWVzICsgMX1gKTtcbiAgICAgICAgICBhdWRpb0ZpbGVuYW1lID0gYXdhaXQgc3ludGhlc2l6ZVNwZWVjaCh2b2ljZUNvbnRlbnQpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgZ2VuZXJhdGVkIGF1ZGlvOicsIGF1ZGlvRmlsZW5hbWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBlcnJvciA9IGVycjtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBFbGV2ZW5MYWJzIHN5bnRoZXNpcyBhdHRlbXB0ICR7cmV0cnlDb3VudCArIDF9IGZhaWxlZDpgLCBlcnIpO1xuICAgICAgICAgIHJldHJ5Q291bnQrKztcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAocmV0cnlDb3VudCA+IG1heFJldHJpZXMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBbGwgRWxldmVuTGFicyBhdHRlbXB0cyBmYWlsZWQsIHRyeWluZyBmYWxsYmFjayBUVFMuLi4nKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXNlIGZhbGxiYWNrIFRUUyBzZXJ2aWNlXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCBmYWxsYmFja1Jlc3BvbnNlID0gYXdhaXQgZmV0Y2gobmV3IFVSTCgnL2FwaS9lbGV2ZW5sYWJzLWZhbGxiYWNrJywgcmVxdWVzdC51cmwpLnRvU3RyaW5nKCksIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB0ZXh0OiB2b2ljZUNvbnRlbnQgfSksXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKCFmYWxsYmFja1Jlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWxsYmFjayBUVFMgZmFpbGVkIHdpdGggc3RhdHVzOiAke2ZhbGxiYWNrUmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBjb25zdCBmYWxsYmFja0RhdGEgPSBhd2FpdCBmYWxsYmFja1Jlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgYXVkaW9GaWxlbmFtZSA9IGZhbGxiYWNrRGF0YS5hdWRpb0ZpbGVuYW1lO1xuICAgICAgICAgICAgICB1c2VkRmFsbGJhY2sgPSB0cnVlO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU3VjY2Vzc2Z1bGx5IHVzZWQgZmFsbGJhY2sgVFRTOicsIGF1ZGlvRmlsZW5hbWUpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZmFsbGJhY2tFcnIpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFsbGJhY2sgVFRTIGFsc28gZmFpbGVkOicsIGZhbGxiYWNrRXJyKTtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb3RoIHByaW1hcnkgYW5kIGZhbGxiYWNrIFRUUyBzZXJ2aWNlcyBmYWlsZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFhdWRpb0ZpbGVuYW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGdlbmVyYXRlIGF1ZGlvJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHNlbmROb3cgaXMgdHJ1ZSwgc2VuZCB0aGUgdm9pY2Ugbm90ZSBpbW1lZGlhdGVseVxuICAgICAgbGV0IHNlbmRSZXN1bHQgPSBudWxsO1xuICAgICAgaWYgKHNlbmROb3cgJiYgZGVsaXZlcnlNZXRob2QgJiYgY29udGFjdEluZm8pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBJbXBsZW1lbnRhdGlvbiBmb3Igc2VuZGluZyB0aGUgdm9pY2Ugbm90ZSB2aWEgdGhlIHNwZWNpZmllZCBkZWxpdmVyeSBtZXRob2RcbiAgICAgICAgICAvLyBUaGlzIGNvdWxkIGJlIGVtYWlsLCBTTVMsIGV0Yy5cbiAgICAgICAgICBjb25zb2xlLmxvZyhgU2VuZGluZyB2b2ljZSBub3RlIHZpYSAke2RlbGl2ZXJ5TWV0aG9kfSB0byAke2NvbnRhY3RJbmZvfWApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFNlbmQgdGhlIHZvaWNlIG5vdGVcbiAgICAgICAgICBjb25zdCBzZW5kUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChuZXcgVVJMKCcvYXBpL3NlbmQtdm9pY2UnLCByZXF1ZXN0LnVybCkudG9TdHJpbmcoKSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICBhdWRpb0ZpbGVuYW1lLFxuICAgICAgICAgICAgICBkZWxpdmVyeU1ldGhvZCxcbiAgICAgICAgICAgICAgY29udGFjdEluZm8sXG4gICAgICAgICAgICAgIHdlYXRoZXJEYXRhLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgc2VuZFJlc3VsdCA9IGF3YWl0IHNlbmRSZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1NlbmQgcmVzdWx0OicsIHNlbmRSZXN1bHQpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZW5kaW5nIHZvaWNlIG5vdGU6JywgZXJyKTtcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgICB7IFxuICAgICAgICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBzZW5kIHZvaWNlIG5vdGUnLFxuICAgICAgICAgICAgICBhdWRpb0ZpbGVuYW1lLCAvLyBTdGlsbCByZXR1cm4gdGhlIGF1ZGlvIGZpbGVuYW1lIHNvIGNsaWVudCBjYW4gcGxheSBpdFxuICAgICAgICAgICAgICB1c2VkRmFsbGJhY2tcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGF1ZGlvRmlsZW5hbWUsXG4gICAgICAgIHNlbmRSZXN1bHQsXG4gICAgICAgIHVzZWRGYWxsYmFja1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2VuZXJhdGluZyB2b2ljZSBub3RlOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBnZW5lcmF0ZSB2b2ljZSBub3RlJywgZGV0YWlsczogZXJyb3IubWVzc2FnZSB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHByb2Nlc3NpbmcgcmVxdWVzdDonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ludmFsaWQgcmVxdWVzdCcgfSxcbiAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICk7XG4gIH1cbn0gIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImF4aW9zIiwiZ2VuZXJhdGVXZWF0aGVyVXBkYXRlIiwic3ludGhlc2l6ZVNwZWVjaCIsIk1BWF9SRVRSSUVTIiwiZmFsbGJhY2tUVFMiLCJ0ZXh0IiwicmVzcG9uc2UiLCJtZXRob2QiLCJ1cmwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJzdWJzdHJpbmciLCJyZXNwb25zZVR5cGUiLCJCdWZmZXIiLCJmcm9tIiwiZGF0YSIsImVycm9yIiwiY29uc29sZSIsIkVycm9yIiwiUE9TVCIsInJlcXVlc3QiLCJib2R5IiwianNvbiIsIndlYXRoZXJEYXRhIiwibW90aXZhdGlvbmFsTWVzc2FnZSIsInNlbmROb3ciLCJkZWxpdmVyeU1ldGhvZCIsImNvbnRhY3RJbmZvIiwic3RhdHVzIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsImNpdHkiLCJ0ZW1wZXJhdHVyZSIsImRlc2NyaXB0aW9uIiwidW5kZWZpbmVkIiwidm9pY2VDb250ZW50IiwiYXVkaW9GaWxlbmFtZSIsInVzZWRGYWxsYmFjayIsIm1heFJldHJpZXMiLCJyZXRyeUNvdW50IiwiZXJyIiwiZmFsbGJhY2tSZXNwb25zZSIsImZldGNoIiwiVVJMIiwidG9TdHJpbmciLCJoZWFkZXJzIiwib2siLCJmYWxsYmFja0RhdGEiLCJmYWxsYmFja0VyciIsInNlbmRSZXN1bHQiLCJzZW5kUmVzcG9uc2UiLCJzdWNjZXNzIiwiZGV0YWlscyIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/generate-voice/route.ts\n");

/***/ }),

/***/ "(rsc)/./app/lib/elevenlabs-tts.ts":
/*!***********************************!*\
  !*** ./app/lib/elevenlabs-tts.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAvailableVoices: () => (/* binding */ getAvailableVoices),\n/* harmony export */   synthesizeSpeech: () => (/* binding */ synthesizeSpeech)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm-node/v4.js\");\n\n\n\n\nasync function getAvailableVoices() {\n    const apiKey = process.env.ELEVENLABS_API_KEY;\n    if (!apiKey) {\n        throw new Error(\"ELEVENLABS_API_KEY is not defined in environment variables\");\n    }\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].get(\"https://api.elevenlabs.io/v1/voices\", {\n            headers: {\n                \"xi-api-key\": apiKey\n            }\n        });\n        return response.data.voices;\n    } catch (error) {\n        console.error(\"Error fetching ElevenLabs voices:\", error.message);\n        throw new Error(`Failed to fetch ElevenLabs voices: ${error.message}`);\n    }\n}\nasync function synthesizeSpeech(text) {\n    const apiKey = process.env.ELEVENLABS_API_KEY;\n    if (!apiKey) {\n        throw new Error(\"ELEVENLABS_API_KEY is not defined in environment variables\");\n    }\n    // Default voice ID - Rachel\n    const voiceId = process.env.ELEVENLABS_VOICE_ID || \"21m00Tcm4TlvDq8ikWAM\";\n    try {\n        // Prepare the request options\n        const options = {\n            method: \"POST\",\n            url: `https://api.elevenlabs.io/v1/text-to-speech/${voiceId}`,\n            headers: {\n                \"xi-api-key\": apiKey,\n                \"Content-Type\": \"application/json\",\n                \"Accept\": \"audio/mpeg\"\n            },\n            data: {\n                text,\n                model_id: \"eleven_monolingual_v1\",\n                voice_settings: {\n                    stability: 0.6,\n                    similarity_boost: 0.75,\n                    style: 0.0,\n                    use_speaker_boost: true\n                }\n            },\n            responseType: \"arraybuffer\"\n        };\n        console.log(`Calling ElevenLabs API to synthesize speech (text length: ${text.length})`);\n        const response = await (0,axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(options);\n        // Create a unique filename\n        const fileName = `voice-note-${(0,uuid__WEBPACK_IMPORTED_MODULE_3__[\"default\"])()}.mp3`;\n        const audioDir = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"public\", \"audio\");\n        const audioPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(audioDir, fileName);\n        // Ensure the audio directory exists\n        if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(audioDir)) {\n            fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(audioDir, {\n                recursive: true\n            });\n        }\n        // Save the audio file\n        fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(audioPath, Buffer.from(response.data));\n        // Return the path to the audio file relative to the public directory\n        return `/audio/${fileName}`;\n    } catch (error) {\n        console.error(\"Error synthesizing speech with ElevenLabs:\", error.message);\n        if (error.response) {\n            console.error(\"ElevenLabs API error:\", {\n                status: error.response.status,\n                statusText: error.response.statusText,\n                data: error.response.data\n            });\n        }\n        throw new Error(`Failed to synthesize speech: ${error.message}`);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGliL2VsZXZlbmxhYnMtdHRzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTBCO0FBQ047QUFDSTtBQUNZO0FBa0I3QixlQUFlSztJQUNwQixNQUFNQyxTQUFTQyxRQUFRQyxHQUFHLENBQUNDLGtCQUFrQjtJQUM3QyxJQUFJLENBQUNILFFBQVE7UUFDWCxNQUFNLElBQUlJLE1BQU07SUFDbEI7SUFFQSxJQUFJO1FBQ0YsTUFBTUMsV0FBVyxNQUFNWCw2Q0FBS0EsQ0FBQ1ksR0FBRyxDQUFDLHVDQUF1QztZQUN0RUMsU0FBUztnQkFDUCxjQUFjUDtZQUNoQjtRQUNGO1FBRUEsT0FBT0ssU0FBU0csSUFBSSxDQUFDQyxNQUFNO0lBQzdCLEVBQUUsT0FBT0MsT0FBWTtRQUNuQkMsUUFBUUQsS0FBSyxDQUFDLHFDQUFxQ0EsTUFBTUUsT0FBTztRQUNoRSxNQUFNLElBQUlSLE1BQU0sQ0FBQyxtQ0FBbUMsRUFBRU0sTUFBTUUsT0FBTyxDQUFDLENBQUM7SUFDdkU7QUFDRjtBQUVPLGVBQWVDLGlCQUFpQkMsSUFBWTtJQUNqRCxNQUFNZCxTQUFTQyxRQUFRQyxHQUFHLENBQUNDLGtCQUFrQjtJQUM3QyxJQUFJLENBQUNILFFBQVE7UUFDWCxNQUFNLElBQUlJLE1BQU07SUFDbEI7SUFFQSw0QkFBNEI7SUFDNUIsTUFBTVcsVUFBVWQsUUFBUUMsR0FBRyxDQUFDYyxtQkFBbUIsSUFBSTtJQUVuRCxJQUFJO1FBQ0YsOEJBQThCO1FBQzlCLE1BQU1DLFVBQVU7WUFDZEMsUUFBUTtZQUNSQyxLQUFLLENBQUMsNENBQTRDLEVBQUVKLFFBQVEsQ0FBQztZQUM3RFIsU0FBUztnQkFDUCxjQUFjUDtnQkFDZCxnQkFBZ0I7Z0JBQ2hCLFVBQVU7WUFDWjtZQUNBUSxNQUFNO2dCQUNKTTtnQkFDQU0sVUFBVTtnQkFDVkMsZ0JBQWdCO29CQUNkQyxXQUFXO29CQUNYQyxrQkFBa0I7b0JBQ2xCQyxPQUFPO29CQUNQQyxtQkFBbUI7Z0JBQ3JCO1lBQ0Y7WUFDQUMsY0FBYztRQUNoQjtRQUVBZixRQUFRZ0IsR0FBRyxDQUFDLENBQUMsMERBQTBELEVBQUViLEtBQUtjLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDdkYsTUFBTXZCLFdBQVcsTUFBTVgsaURBQUtBLENBQUN1QjtRQUU3QiwyQkFBMkI7UUFDM0IsTUFBTVksV0FBVyxDQUFDLFdBQVcsRUFBRS9CLGdEQUFNQSxHQUFHLElBQUksQ0FBQztRQUM3QyxNQUFNZ0MsV0FBV2xDLGdEQUFTLENBQUNLLFFBQVErQixHQUFHLElBQUksVUFBVTtRQUNwRCxNQUFNQyxZQUFZckMsZ0RBQVMsQ0FBQ2tDLFVBQVVEO1FBRXRDLG9DQUFvQztRQUNwQyxJQUFJLENBQUNsQyxvREFBYSxDQUFDbUMsV0FBVztZQUM1Qm5DLG1EQUFZLENBQUNtQyxVQUFVO2dCQUFFTSxXQUFXO1lBQUs7UUFDM0M7UUFFQSxzQkFBc0I7UUFDdEJ6Qyx1REFBZ0IsQ0FBQ3NDLFdBQVdLLE9BQU9DLElBQUksQ0FBQ2xDLFNBQVNHLElBQUk7UUFFckQscUVBQXFFO1FBQ3JFLE9BQU8sQ0FBQyxPQUFPLEVBQUVxQixTQUFTLENBQUM7SUFDN0IsRUFBRSxPQUFPbkIsT0FBWTtRQUNuQkMsUUFBUUQsS0FBSyxDQUFDLDhDQUE4Q0EsTUFBTUUsT0FBTztRQUN6RSxJQUFJRixNQUFNTCxRQUFRLEVBQUU7WUFDbEJNLFFBQVFELEtBQUssQ0FBQyx5QkFBeUI7Z0JBQ3JDOEIsUUFBUTlCLE1BQU1MLFFBQVEsQ0FBQ21DLE1BQU07Z0JBQzdCQyxZQUFZL0IsTUFBTUwsUUFBUSxDQUFDb0MsVUFBVTtnQkFDckNqQyxNQUFNRSxNQUFNTCxRQUFRLENBQUNHLElBQUk7WUFDM0I7UUFDRjtRQUNBLE1BQU0sSUFBSUosTUFBTSxDQUFDLDZCQUE2QixFQUFFTSxNQUFNRSxPQUFPLENBQUMsQ0FBQztJQUNqRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWlfd2VhdGhlcnZvaWNlLy4vYXBwL2xpYi9lbGV2ZW5sYWJzLXR0cy50cz9iYTU0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XHJcbmltcG9ydCBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRWxldmVuTGFic1ZvaWNlIHtcclxuICB2b2ljZV9pZDogc3RyaW5nO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBjYXRlZ29yeT86IHN0cmluZztcclxuICBkZXNjcmlwdGlvbj86IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIFN5bnRoZXNpc09wdGlvbnMge1xyXG4gIHRleHQ6IHN0cmluZztcclxuICB2b2ljZV9pZD86IHN0cmluZztcclxuICBzdGFiaWxpdHk/OiBudW1iZXI7XHJcbiAgc2ltaWxhcml0eUJvb3N0PzogbnVtYmVyO1xyXG4gIHNwZWFrZXJCb29zdD86IGJvb2xlYW47XHJcbiAgc3R5bGU/OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBdmFpbGFibGVWb2ljZXMoKTogUHJvbWlzZTxFbGV2ZW5MYWJzVm9pY2VbXT4ge1xyXG4gIGNvbnN0IGFwaUtleSA9IHByb2Nlc3MuZW52LkVMRVZFTkxBQlNfQVBJX0tFWTtcclxuICBpZiAoIWFwaUtleSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdFTEVWRU5MQUJTX0FQSV9LRVkgaXMgbm90IGRlZmluZWQgaW4gZW52aXJvbm1lbnQgdmFyaWFibGVzJyk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoJ2h0dHBzOi8vYXBpLmVsZXZlbmxhYnMuaW8vdjEvdm9pY2VzJywge1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ3hpLWFwaS1rZXknOiBhcGlLZXksXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS52b2ljZXM7XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgRWxldmVuTGFicyB2b2ljZXM6JywgZXJyb3IubWVzc2FnZSk7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBFbGV2ZW5MYWJzIHZvaWNlczogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN5bnRoZXNpemVTcGVlY2godGV4dDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICBjb25zdCBhcGlLZXkgPSBwcm9jZXNzLmVudi5FTEVWRU5MQUJTX0FQSV9LRVk7XHJcbiAgaWYgKCFhcGlLZXkpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignRUxFVkVOTEFCU19BUElfS0VZIGlzIG5vdCBkZWZpbmVkIGluIGVudmlyb25tZW50IHZhcmlhYmxlcycpO1xyXG4gIH1cclxuXHJcbiAgLy8gRGVmYXVsdCB2b2ljZSBJRCAtIFJhY2hlbFxyXG4gIGNvbnN0IHZvaWNlSWQgPSBwcm9jZXNzLmVudi5FTEVWRU5MQUJTX1ZPSUNFX0lEIHx8ICcyMW0wMFRjbTRUbHZEcThpa1dBTSc7XHJcblxyXG4gIHRyeSB7XHJcbiAgICAvLyBQcmVwYXJlIHRoZSByZXF1ZXN0IG9wdGlvbnNcclxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICB1cmw6IGBodHRwczovL2FwaS5lbGV2ZW5sYWJzLmlvL3YxL3RleHQtdG8tc3BlZWNoLyR7dm9pY2VJZH1gLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ3hpLWFwaS1rZXknOiBhcGlLZXksXHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAnQWNjZXB0JzogJ2F1ZGlvL21wZWcnXHJcbiAgICAgIH0sXHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICB0ZXh0LFxyXG4gICAgICAgIG1vZGVsX2lkOiAnZWxldmVuX21vbm9saW5ndWFsX3YxJyxcclxuICAgICAgICB2b2ljZV9zZXR0aW5nczoge1xyXG4gICAgICAgICAgc3RhYmlsaXR5OiAwLjYsXHJcbiAgICAgICAgICBzaW1pbGFyaXR5X2Jvb3N0OiAwLjc1LFxyXG4gICAgICAgICAgc3R5bGU6IDAuMCxcclxuICAgICAgICAgIHVzZV9zcGVha2VyX2Jvb3N0OiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcicgYXMgY29uc3RcclxuICAgIH07XHJcblxyXG4gICAgY29uc29sZS5sb2coYENhbGxpbmcgRWxldmVuTGFicyBBUEkgdG8gc3ludGhlc2l6ZSBzcGVlY2ggKHRleHQgbGVuZ3RoOiAke3RleHQubGVuZ3RofSlgKTtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3Mob3B0aW9ucyk7XHJcbiAgICBcclxuICAgIC8vIENyZWF0ZSBhIHVuaXF1ZSBmaWxlbmFtZVxyXG4gICAgY29uc3QgZmlsZU5hbWUgPSBgdm9pY2Utbm90ZS0ke3V1aWR2NCgpfS5tcDNgO1xyXG4gICAgY29uc3QgYXVkaW9EaXIgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3B1YmxpYycsICdhdWRpbycpO1xyXG4gICAgY29uc3QgYXVkaW9QYXRoID0gcGF0aC5qb2luKGF1ZGlvRGlyLCBmaWxlTmFtZSk7XHJcbiAgICBcclxuICAgIC8vIEVuc3VyZSB0aGUgYXVkaW8gZGlyZWN0b3J5IGV4aXN0c1xyXG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKGF1ZGlvRGlyKSkge1xyXG4gICAgICBmcy5ta2RpclN5bmMoYXVkaW9EaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBTYXZlIHRoZSBhdWRpbyBmaWxlXHJcbiAgICBmcy53cml0ZUZpbGVTeW5jKGF1ZGlvUGF0aCwgQnVmZmVyLmZyb20ocmVzcG9uc2UuZGF0YSkpO1xyXG4gICAgXHJcbiAgICAvLyBSZXR1cm4gdGhlIHBhdGggdG8gdGhlIGF1ZGlvIGZpbGUgcmVsYXRpdmUgdG8gdGhlIHB1YmxpYyBkaXJlY3RvcnlcclxuICAgIHJldHVybiBgL2F1ZGlvLyR7ZmlsZU5hbWV9YDtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzeW50aGVzaXppbmcgc3BlZWNoIHdpdGggRWxldmVuTGFiczonLCBlcnJvci5tZXNzYWdlKTtcclxuICAgIGlmIChlcnJvci5yZXNwb25zZSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFbGV2ZW5MYWJzIEFQSSBlcnJvcjonLCB7XHJcbiAgICAgICAgc3RhdHVzOiBlcnJvci5yZXNwb25zZS5zdGF0dXMsXHJcbiAgICAgICAgc3RhdHVzVGV4dDogZXJyb3IucmVzcG9uc2Uuc3RhdHVzVGV4dCxcclxuICAgICAgICBkYXRhOiBlcnJvci5yZXNwb25zZS5kYXRhXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc3ludGhlc2l6ZSBzcGVlY2g6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICB9XHJcbn0gIl0sIm5hbWVzIjpbImF4aW9zIiwiZnMiLCJwYXRoIiwidjQiLCJ1dWlkdjQiLCJnZXRBdmFpbGFibGVWb2ljZXMiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiRUxFVkVOTEFCU19BUElfS0VZIiwiRXJyb3IiLCJyZXNwb25zZSIsImdldCIsImhlYWRlcnMiLCJkYXRhIiwidm9pY2VzIiwiZXJyb3IiLCJjb25zb2xlIiwibWVzc2FnZSIsInN5bnRoZXNpemVTcGVlY2giLCJ0ZXh0Iiwidm9pY2VJZCIsIkVMRVZFTkxBQlNfVk9JQ0VfSUQiLCJvcHRpb25zIiwibWV0aG9kIiwidXJsIiwibW9kZWxfaWQiLCJ2b2ljZV9zZXR0aW5ncyIsInN0YWJpbGl0eSIsInNpbWlsYXJpdHlfYm9vc3QiLCJzdHlsZSIsInVzZV9zcGVha2VyX2Jvb3N0IiwicmVzcG9uc2VUeXBlIiwibG9nIiwibGVuZ3RoIiwiZmlsZU5hbWUiLCJhdWRpb0RpciIsImpvaW4iLCJjd2QiLCJhdWRpb1BhdGgiLCJleGlzdHNTeW5jIiwibWtkaXJTeW5jIiwicmVjdXJzaXZlIiwid3JpdGVGaWxlU3luYyIsIkJ1ZmZlciIsImZyb20iLCJzdGF0dXMiLCJzdGF0dXNUZXh0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/lib/elevenlabs-tts.ts\n");

/***/ }),

/***/ "(rsc)/./app/lib/gemini-api.ts":
/*!*******************************!*\
  !*** ./app/lib/gemini-api.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateWeatherUpdate: () => (/* binding */ generateWeatherUpdate),\n/* harmony export */   initGeminiApi: () => (/* binding */ initGeminiApi)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\");\n\n// Initialize the Google Generative AI SDK with the API key\nconst initGeminiApi = ()=>{\n    const apiKey = process.env.GEMINI_API_KEY;\n    if (!apiKey) {\n        throw new Error(\"GEMINI_API_KEY not found in environment variables\");\n    }\n    return new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(apiKey);\n};\n// Generate a weather update using Google's Gemini API\nasync function generateWeatherUpdate(weatherData, motivationalMessage) {\n    try {\n        // First try to generate using Gemini API\n        return await generateWithGemini(weatherData, motivationalMessage);\n    } catch (error) {\n        console.error(\"Error using Gemini API for text generation:\", error);\n        console.log(\"Using fallback text generation method instead...\");\n        // Use fallback method if Gemini fails\n        return generateFallbackText(weatherData, motivationalMessage);\n    }\n}\n// Fallback text generation that doesn't require AI API\nfunction generateFallbackText(weatherData, motivationalMessage) {\n    const location = weatherData.city || \"your location\";\n    const temperature = weatherData.temperature !== undefined ? `${weatherData.temperature}°C` : \"unknown temperature\";\n    const description = weatherData.description || \"changing weather conditions\";\n    const humidity = weatherData.humidity !== undefined ? `${weatherData.humidity}%` : \"moderate\";\n    const windSpeed = weatherData.windSpeed !== undefined ? `${weatherData.windSpeed} km/h` : \"light\";\n    const weatherPart = `Weather update for ${location}: Currently it's ${temperature} with ${description}. \r\n  The humidity is ${humidity} and wind speed is ${windSpeed}.`;\n    let advicePart = \"\";\n    // Generate some basic advice based on the weather description\n    if (description.includes(\"rain\") || description.includes(\"drizzle\")) {\n        advicePart = \"Don't forget to carry an umbrella if you're going outside today.\";\n    } else if (description.includes(\"snow\")) {\n        advicePart = \"It's snowing, so wear warm clothes and be careful on slippery surfaces.\";\n    } else if (description.includes(\"cloud\")) {\n        advicePart = \"It's cloudy today, so the temperature might feel cooler than it actually is.\";\n    } else if (description.includes(\"clear\") || description.includes(\"sun\")) {\n        advicePart = \"It's a beautiful day! Consider spending some time outdoors if possible.\";\n    } else if (temperature && parseInt(temperature.toString()) > 30) {\n        advicePart = \"It's quite hot today, so stay hydrated and try to avoid prolonged exposure to the sun.\";\n    } else if (temperature && parseInt(temperature.toString()) < 5) {\n        advicePart = \"It's very cold today, so make sure to dress in layers and keep warm.\";\n    } else {\n        advicePart = \"Whatever your plans are today, I hope the weather cooperates!\";\n    }\n    let motivationalPart = \"\";\n    if (motivationalMessage) {\n        motivationalPart = `Here's a thought for today: ${motivationalMessage}`;\n    }\n    return `${weatherPart} ${advicePart} ${motivationalPart}`.trim();\n}\n// Generate using Gemini AI API\nasync function generateWithGemini(weatherData, motivationalMessage) {\n    const genAI = initGeminiApi();\n    const geminiModel = genAI.getGenerativeModel({\n        model: \"gemini-pro\"\n    });\n    const location = weatherData.city;\n    const temperature = weatherData.temperature;\n    const description = weatherData.description;\n    const humidity = weatherData.humidity;\n    const windSpeed = weatherData.windSpeed;\n    let prompt = `Create a friendly, conversational weather update for ${location} where it's currently ${temperature}°C with ${description}.`;\n    if (humidity !== undefined) {\n        prompt += ` The humidity is ${humidity}%.`;\n    }\n    if (windSpeed !== undefined) {\n        prompt += ` The wind speed is ${windSpeed} km/h.`;\n    }\n    prompt += ` Add some relevant advice for the day based on these weather conditions.`;\n    if (motivationalMessage) {\n        prompt += ` Also, include this motivational quote in a natural way: \"${motivationalMessage}\"`;\n    }\n    prompt += ` The response should sound natural and human-like, as if it's being read aloud. \r\n  Keep it under 200 words and make it engaging. Don't include any headings, bullet points, or formatting.`;\n    try {\n        const result = await geminiModel.generateContent(prompt);\n        const response = result.response;\n        const text = response.text();\n        if (!text) {\n            throw new Error(\"Empty response from Gemini API\");\n        }\n        return text;\n    } catch (error) {\n        console.error(\"Error generating content with Gemini:\", error);\n        throw new Error(\"Failed to generate weather update content\");\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGliL2dlbWluaS1hcGkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJEO0FBRzNELDJEQUEyRDtBQUNwRCxNQUFNQyxnQkFBZ0I7SUFDM0IsTUFBTUMsU0FBU0MsUUFBUUMsR0FBRyxDQUFDQyxjQUFjO0lBQ3pDLElBQUksQ0FBQ0gsUUFBUTtRQUNYLE1BQU0sSUFBSUksTUFBTTtJQUNsQjtJQUNBLE9BQU8sSUFBSU4scUVBQWtCQSxDQUFDRTtBQUNoQyxFQUFFO0FBT0Ysc0RBQXNEO0FBQy9DLGVBQWVLLHNCQUNwQkMsV0FBd0IsRUFDeEJDLG1CQUE0QjtJQUU1QixJQUFJO1FBQ0YseUNBQXlDO1FBQ3pDLE9BQU8sTUFBTUMsbUJBQW1CRixhQUFhQztJQUMvQyxFQUFFLE9BQU9FLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLCtDQUErQ0E7UUFDN0RDLFFBQVFDLEdBQUcsQ0FBQztRQUNaLHNDQUFzQztRQUN0QyxPQUFPQyxxQkFBcUJOLGFBQWFDO0lBQzNDO0FBQ0Y7QUFFQSx1REFBdUQ7QUFDdkQsU0FBU0sscUJBQ1BOLFdBQXdCLEVBQ3hCQyxtQkFBNEI7SUFFNUIsTUFBTU0sV0FBV1AsWUFBWVEsSUFBSSxJQUFJO0lBQ3JDLE1BQU1DLGNBQWNULFlBQVlTLFdBQVcsS0FBS0MsWUFBWSxDQUFDLEVBQUVWLFlBQVlTLFdBQVcsQ0FBQyxFQUFFLENBQUMsR0FBRztJQUM3RixNQUFNRSxjQUFjWCxZQUFZVyxXQUFXLElBQUk7SUFDL0MsTUFBTUMsV0FBV1osWUFBWVksUUFBUSxLQUFLRixZQUFZLENBQUMsRUFBRVYsWUFBWVksUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHO0lBQ25GLE1BQU1DLFlBQVliLFlBQVlhLFNBQVMsS0FBS0gsWUFBWSxDQUFDLEVBQUVWLFlBQVlhLFNBQVMsQ0FBQyxLQUFLLENBQUMsR0FBRztJQUUxRixNQUFNQyxjQUFjLENBQUMsbUJBQW1CLEVBQUVQLFNBQVMsaUJBQWlCLEVBQUVFLFlBQVksTUFBTSxFQUFFRSxZQUFZO2tCQUN0RixFQUFFQyxTQUFTLG1CQUFtQixFQUFFQyxVQUFVLENBQUMsQ0FBQztJQUU1RCxJQUFJRSxhQUFhO0lBRWpCLDhEQUE4RDtJQUM5RCxJQUFJSixZQUFZSyxRQUFRLENBQUMsV0FBV0wsWUFBWUssUUFBUSxDQUFDLFlBQVk7UUFDbkVELGFBQWE7SUFDZixPQUFPLElBQUlKLFlBQVlLLFFBQVEsQ0FBQyxTQUFTO1FBQ3ZDRCxhQUFhO0lBQ2YsT0FBTyxJQUFJSixZQUFZSyxRQUFRLENBQUMsVUFBVTtRQUN4Q0QsYUFBYTtJQUNmLE9BQU8sSUFBSUosWUFBWUssUUFBUSxDQUFDLFlBQVlMLFlBQVlLLFFBQVEsQ0FBQyxRQUFRO1FBQ3ZFRCxhQUFhO0lBQ2YsT0FBTyxJQUFJTixlQUFlUSxTQUFTUixZQUFZUyxRQUFRLE1BQU0sSUFBSTtRQUMvREgsYUFBYTtJQUNmLE9BQU8sSUFBSU4sZUFBZVEsU0FBU1IsWUFBWVMsUUFBUSxNQUFNLEdBQUc7UUFDOURILGFBQWE7SUFDZixPQUFPO1FBQ0xBLGFBQWE7SUFDZjtJQUVBLElBQUlJLG1CQUFtQjtJQUN2QixJQUFJbEIscUJBQXFCO1FBQ3ZCa0IsbUJBQW1CLENBQUMsNEJBQTRCLEVBQUVsQixvQkFBb0IsQ0FBQztJQUN6RTtJQUVBLE9BQU8sQ0FBQyxFQUFFYSxZQUFZLENBQUMsRUFBRUMsV0FBVyxDQUFDLEVBQUVJLGlCQUFpQixDQUFDLENBQUNDLElBQUk7QUFDaEU7QUFFQSwrQkFBK0I7QUFDL0IsZUFBZWxCLG1CQUNiRixXQUF3QixFQUN4QkMsbUJBQTRCO0lBRTVCLE1BQU1vQixRQUFRNUI7SUFDZCxNQUFNNkIsY0FBY0QsTUFBTUUsa0JBQWtCLENBQUM7UUFBRUMsT0FBTztJQUFhO0lBRW5FLE1BQU1qQixXQUFXUCxZQUFZUSxJQUFJO0lBQ2pDLE1BQU1DLGNBQWNULFlBQVlTLFdBQVc7SUFDM0MsTUFBTUUsY0FBY1gsWUFBWVcsV0FBVztJQUMzQyxNQUFNQyxXQUFXWixZQUFZWSxRQUFRO0lBQ3JDLE1BQU1DLFlBQVliLFlBQVlhLFNBQVM7SUFFdkMsSUFBSVksU0FBUyxDQUFDLHFEQUFxRCxFQUFFbEIsU0FBUyxzQkFBc0IsRUFBRUUsWUFBWSxRQUFRLEVBQUVFLFlBQVksQ0FBQyxDQUFDO0lBRTFJLElBQUlDLGFBQWFGLFdBQVc7UUFDMUJlLFVBQVUsQ0FBQyxpQkFBaUIsRUFBRWIsU0FBUyxFQUFFLENBQUM7SUFDNUM7SUFFQSxJQUFJQyxjQUFjSCxXQUFXO1FBQzNCZSxVQUFVLENBQUMsbUJBQW1CLEVBQUVaLFVBQVUsTUFBTSxDQUFDO0lBQ25EO0lBRUFZLFVBQVUsQ0FBQyx3RUFBd0UsQ0FBQztJQUVwRixJQUFJeEIscUJBQXFCO1FBQ3ZCd0IsVUFBVSxDQUFDLDBEQUEwRCxFQUFFeEIsb0JBQW9CLENBQUMsQ0FBQztJQUMvRjtJQUVBd0IsVUFBVSxDQUFDO3lHQUM0RixDQUFDO0lBRXhHLElBQUk7UUFDRixNQUFNQyxTQUFTLE1BQU1KLFlBQVlLLGVBQWUsQ0FBQ0Y7UUFDakQsTUFBTUcsV0FBV0YsT0FBT0UsUUFBUTtRQUNoQyxNQUFNQyxPQUFPRCxTQUFTQyxJQUFJO1FBRTFCLElBQUksQ0FBQ0EsTUFBTTtZQUNULE1BQU0sSUFBSS9CLE1BQU07UUFDbEI7UUFFQSxPQUFPK0I7SUFDVCxFQUFFLE9BQU8xQixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyx5Q0FBeUNBO1FBQ3ZELE1BQU0sSUFBSUwsTUFBTTtJQUNsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWlfd2VhdGhlcnZvaWNlLy4vYXBwL2xpYi9nZW1pbmktYXBpLnRzPzA0NzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR29vZ2xlR2VuZXJhdGl2ZUFJIH0gZnJvbSAnQGdvb2dsZS9nZW5lcmF0aXZlLWFpJztcclxuaW1wb3J0IHsgd2VhdGhlckRhdGEgfSBmcm9tICdAL2FwcC90eXBlcyc7XHJcblxyXG4vLyBJbml0aWFsaXplIHRoZSBHb29nbGUgR2VuZXJhdGl2ZSBBSSBTREsgd2l0aCB0aGUgQVBJIGtleVxyXG5leHBvcnQgY29uc3QgaW5pdEdlbWluaUFwaSA9ICgpID0+IHtcclxuICBjb25zdCBhcGlLZXkgPSBwcm9jZXNzLmVudi5HRU1JTklfQVBJX0tFWTtcclxuICBpZiAoIWFwaUtleSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdHRU1JTklfQVBJX0tFWSBub3QgZm91bmQgaW4gZW52aXJvbm1lbnQgdmFyaWFibGVzJyk7XHJcbiAgfVxyXG4gIHJldHVybiBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJKGFwaUtleSk7XHJcbn07XHJcblxyXG5pbnRlcmZhY2UgTW90aXZhdGlvbmFsUXVvdGUge1xyXG4gIHF1b3RlPzogc3RyaW5nO1xyXG4gIGF1dGhvcj86IHN0cmluZztcclxufVxyXG5cclxuLy8gR2VuZXJhdGUgYSB3ZWF0aGVyIHVwZGF0ZSB1c2luZyBHb29nbGUncyBHZW1pbmkgQVBJXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZVdlYXRoZXJVcGRhdGUoXHJcbiAgd2VhdGhlckRhdGE6IHdlYXRoZXJEYXRhLFxyXG4gIG1vdGl2YXRpb25hbE1lc3NhZ2U/OiBzdHJpbmdcclxuKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICB0cnkge1xyXG4gICAgLy8gRmlyc3QgdHJ5IHRvIGdlbmVyYXRlIHVzaW5nIEdlbWluaSBBUElcclxuICAgIHJldHVybiBhd2FpdCBnZW5lcmF0ZVdpdGhHZW1pbmkod2VhdGhlckRhdGEsIG1vdGl2YXRpb25hbE1lc3NhZ2UpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1c2luZyBHZW1pbmkgQVBJIGZvciB0ZXh0IGdlbmVyYXRpb246JywgZXJyb3IpO1xyXG4gICAgY29uc29sZS5sb2coJ1VzaW5nIGZhbGxiYWNrIHRleHQgZ2VuZXJhdGlvbiBtZXRob2QgaW5zdGVhZC4uLicpO1xyXG4gICAgLy8gVXNlIGZhbGxiYWNrIG1ldGhvZCBpZiBHZW1pbmkgZmFpbHNcclxuICAgIHJldHVybiBnZW5lcmF0ZUZhbGxiYWNrVGV4dCh3ZWF0aGVyRGF0YSwgbW90aXZhdGlvbmFsTWVzc2FnZSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBGYWxsYmFjayB0ZXh0IGdlbmVyYXRpb24gdGhhdCBkb2Vzbid0IHJlcXVpcmUgQUkgQVBJXHJcbmZ1bmN0aW9uIGdlbmVyYXRlRmFsbGJhY2tUZXh0KFxyXG4gIHdlYXRoZXJEYXRhOiB3ZWF0aGVyRGF0YSxcclxuICBtb3RpdmF0aW9uYWxNZXNzYWdlPzogc3RyaW5nXHJcbik6IHN0cmluZyB7XHJcbiAgY29uc3QgbG9jYXRpb24gPSB3ZWF0aGVyRGF0YS5jaXR5IHx8ICd5b3VyIGxvY2F0aW9uJztcclxuICBjb25zdCB0ZW1wZXJhdHVyZSA9IHdlYXRoZXJEYXRhLnRlbXBlcmF0dXJlICE9PSB1bmRlZmluZWQgPyBgJHt3ZWF0aGVyRGF0YS50ZW1wZXJhdHVyZX3CsENgIDogJ3Vua25vd24gdGVtcGVyYXR1cmUnO1xyXG4gIGNvbnN0IGRlc2NyaXB0aW9uID0gd2VhdGhlckRhdGEuZGVzY3JpcHRpb24gfHwgJ2NoYW5naW5nIHdlYXRoZXIgY29uZGl0aW9ucyc7XHJcbiAgY29uc3QgaHVtaWRpdHkgPSB3ZWF0aGVyRGF0YS5odW1pZGl0eSAhPT0gdW5kZWZpbmVkID8gYCR7d2VhdGhlckRhdGEuaHVtaWRpdHl9JWAgOiAnbW9kZXJhdGUnO1xyXG4gIGNvbnN0IHdpbmRTcGVlZCA9IHdlYXRoZXJEYXRhLndpbmRTcGVlZCAhPT0gdW5kZWZpbmVkID8gYCR7d2VhdGhlckRhdGEud2luZFNwZWVkfSBrbS9oYCA6ICdsaWdodCc7XHJcblxyXG4gIGNvbnN0IHdlYXRoZXJQYXJ0ID0gYFdlYXRoZXIgdXBkYXRlIGZvciAke2xvY2F0aW9ufTogQ3VycmVudGx5IGl0J3MgJHt0ZW1wZXJhdHVyZX0gd2l0aCAke2Rlc2NyaXB0aW9ufS4gXHJcbiAgVGhlIGh1bWlkaXR5IGlzICR7aHVtaWRpdHl9IGFuZCB3aW5kIHNwZWVkIGlzICR7d2luZFNwZWVkfS5gO1xyXG4gIFxyXG4gIGxldCBhZHZpY2VQYXJ0ID0gJyc7XHJcbiAgXHJcbiAgLy8gR2VuZXJhdGUgc29tZSBiYXNpYyBhZHZpY2UgYmFzZWQgb24gdGhlIHdlYXRoZXIgZGVzY3JpcHRpb25cclxuICBpZiAoZGVzY3JpcHRpb24uaW5jbHVkZXMoJ3JhaW4nKSB8fCBkZXNjcmlwdGlvbi5pbmNsdWRlcygnZHJpenpsZScpKSB7XHJcbiAgICBhZHZpY2VQYXJ0ID0gXCJEb24ndCBmb3JnZXQgdG8gY2FycnkgYW4gdW1icmVsbGEgaWYgeW91J3JlIGdvaW5nIG91dHNpZGUgdG9kYXkuXCI7XHJcbiAgfSBlbHNlIGlmIChkZXNjcmlwdGlvbi5pbmNsdWRlcygnc25vdycpKSB7XHJcbiAgICBhZHZpY2VQYXJ0ID0gXCJJdCdzIHNub3dpbmcsIHNvIHdlYXIgd2FybSBjbG90aGVzIGFuZCBiZSBjYXJlZnVsIG9uIHNsaXBwZXJ5IHN1cmZhY2VzLlwiO1xyXG4gIH0gZWxzZSBpZiAoZGVzY3JpcHRpb24uaW5jbHVkZXMoJ2Nsb3VkJykpIHtcclxuICAgIGFkdmljZVBhcnQgPSBcIkl0J3MgY2xvdWR5IHRvZGF5LCBzbyB0aGUgdGVtcGVyYXR1cmUgbWlnaHQgZmVlbCBjb29sZXIgdGhhbiBpdCBhY3R1YWxseSBpcy5cIjtcclxuICB9IGVsc2UgaWYgKGRlc2NyaXB0aW9uLmluY2x1ZGVzKCdjbGVhcicpIHx8IGRlc2NyaXB0aW9uLmluY2x1ZGVzKCdzdW4nKSkge1xyXG4gICAgYWR2aWNlUGFydCA9IFwiSXQncyBhIGJlYXV0aWZ1bCBkYXkhIENvbnNpZGVyIHNwZW5kaW5nIHNvbWUgdGltZSBvdXRkb29ycyBpZiBwb3NzaWJsZS5cIjtcclxuICB9IGVsc2UgaWYgKHRlbXBlcmF0dXJlICYmIHBhcnNlSW50KHRlbXBlcmF0dXJlLnRvU3RyaW5nKCkpID4gMzApIHtcclxuICAgIGFkdmljZVBhcnQgPSBcIkl0J3MgcXVpdGUgaG90IHRvZGF5LCBzbyBzdGF5IGh5ZHJhdGVkIGFuZCB0cnkgdG8gYXZvaWQgcHJvbG9uZ2VkIGV4cG9zdXJlIHRvIHRoZSBzdW4uXCI7XHJcbiAgfSBlbHNlIGlmICh0ZW1wZXJhdHVyZSAmJiBwYXJzZUludCh0ZW1wZXJhdHVyZS50b1N0cmluZygpKSA8IDUpIHtcclxuICAgIGFkdmljZVBhcnQgPSBcIkl0J3MgdmVyeSBjb2xkIHRvZGF5LCBzbyBtYWtlIHN1cmUgdG8gZHJlc3MgaW4gbGF5ZXJzIGFuZCBrZWVwIHdhcm0uXCI7XHJcbiAgfSBlbHNlIHtcclxuICAgIGFkdmljZVBhcnQgPSBcIldoYXRldmVyIHlvdXIgcGxhbnMgYXJlIHRvZGF5LCBJIGhvcGUgdGhlIHdlYXRoZXIgY29vcGVyYXRlcyFcIjtcclxuICB9XHJcblxyXG4gIGxldCBtb3RpdmF0aW9uYWxQYXJ0ID0gJyc7XHJcbiAgaWYgKG1vdGl2YXRpb25hbE1lc3NhZ2UpIHtcclxuICAgIG1vdGl2YXRpb25hbFBhcnQgPSBgSGVyZSdzIGEgdGhvdWdodCBmb3IgdG9kYXk6ICR7bW90aXZhdGlvbmFsTWVzc2FnZX1gO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGAke3dlYXRoZXJQYXJ0fSAke2FkdmljZVBhcnR9ICR7bW90aXZhdGlvbmFsUGFydH1gLnRyaW0oKTtcclxufVxyXG5cclxuLy8gR2VuZXJhdGUgdXNpbmcgR2VtaW5pIEFJIEFQSVxyXG5hc3luYyBmdW5jdGlvbiBnZW5lcmF0ZVdpdGhHZW1pbmkoXHJcbiAgd2VhdGhlckRhdGE6IHdlYXRoZXJEYXRhLFxyXG4gIG1vdGl2YXRpb25hbE1lc3NhZ2U/OiBzdHJpbmdcclxuKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICBjb25zdCBnZW5BSSA9IGluaXRHZW1pbmlBcGkoKTtcclxuICBjb25zdCBnZW1pbmlNb2RlbCA9IGdlbkFJLmdldEdlbmVyYXRpdmVNb2RlbCh7IG1vZGVsOiAnZ2VtaW5pLXBybycgfSk7XHJcbiAgXHJcbiAgY29uc3QgbG9jYXRpb24gPSB3ZWF0aGVyRGF0YS5jaXR5O1xyXG4gIGNvbnN0IHRlbXBlcmF0dXJlID0gd2VhdGhlckRhdGEudGVtcGVyYXR1cmU7XHJcbiAgY29uc3QgZGVzY3JpcHRpb24gPSB3ZWF0aGVyRGF0YS5kZXNjcmlwdGlvbjtcclxuICBjb25zdCBodW1pZGl0eSA9IHdlYXRoZXJEYXRhLmh1bWlkaXR5O1xyXG4gIGNvbnN0IHdpbmRTcGVlZCA9IHdlYXRoZXJEYXRhLndpbmRTcGVlZDtcclxuICBcclxuICBsZXQgcHJvbXB0ID0gYENyZWF0ZSBhIGZyaWVuZGx5LCBjb252ZXJzYXRpb25hbCB3ZWF0aGVyIHVwZGF0ZSBmb3IgJHtsb2NhdGlvbn0gd2hlcmUgaXQncyBjdXJyZW50bHkgJHt0ZW1wZXJhdHVyZX3CsEMgd2l0aCAke2Rlc2NyaXB0aW9ufS5gO1xyXG4gIFxyXG4gIGlmIChodW1pZGl0eSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICBwcm9tcHQgKz0gYCBUaGUgaHVtaWRpdHkgaXMgJHtodW1pZGl0eX0lLmA7XHJcbiAgfVxyXG4gIFxyXG4gIGlmICh3aW5kU3BlZWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgcHJvbXB0ICs9IGAgVGhlIHdpbmQgc3BlZWQgaXMgJHt3aW5kU3BlZWR9IGttL2guYDtcclxuICB9XHJcbiAgXHJcbiAgcHJvbXB0ICs9IGAgQWRkIHNvbWUgcmVsZXZhbnQgYWR2aWNlIGZvciB0aGUgZGF5IGJhc2VkIG9uIHRoZXNlIHdlYXRoZXIgY29uZGl0aW9ucy5gO1xyXG4gIFxyXG4gIGlmIChtb3RpdmF0aW9uYWxNZXNzYWdlKSB7XHJcbiAgICBwcm9tcHQgKz0gYCBBbHNvLCBpbmNsdWRlIHRoaXMgbW90aXZhdGlvbmFsIHF1b3RlIGluIGEgbmF0dXJhbCB3YXk6IFwiJHttb3RpdmF0aW9uYWxNZXNzYWdlfVwiYDtcclxuICB9XHJcbiAgXHJcbiAgcHJvbXB0ICs9IGAgVGhlIHJlc3BvbnNlIHNob3VsZCBzb3VuZCBuYXR1cmFsIGFuZCBodW1hbi1saWtlLCBhcyBpZiBpdCdzIGJlaW5nIHJlYWQgYWxvdWQuIFxyXG4gIEtlZXAgaXQgdW5kZXIgMjAwIHdvcmRzIGFuZCBtYWtlIGl0IGVuZ2FnaW5nLiBEb24ndCBpbmNsdWRlIGFueSBoZWFkaW5ncywgYnVsbGV0IHBvaW50cywgb3IgZm9ybWF0dGluZy5gO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZW1pbmlNb2RlbC5nZW5lcmF0ZUNvbnRlbnQocHJvbXB0KTtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0LnJlc3BvbnNlO1xyXG4gICAgY29uc3QgdGV4dCA9IHJlc3BvbnNlLnRleHQoKTtcclxuICAgIFxyXG4gICAgaWYgKCF0ZXh0KSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRW1wdHkgcmVzcG9uc2UgZnJvbSBHZW1pbmkgQVBJJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiB0ZXh0O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZW5lcmF0aW5nIGNvbnRlbnQgd2l0aCBHZW1pbmk6JywgZXJyb3IpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZ2VuZXJhdGUgd2VhdGhlciB1cGRhdGUgY29udGVudCcpO1xyXG4gIH1cclxufSAiXSwibmFtZXMiOlsiR29vZ2xlR2VuZXJhdGl2ZUFJIiwiaW5pdEdlbWluaUFwaSIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJHRU1JTklfQVBJX0tFWSIsIkVycm9yIiwiZ2VuZXJhdGVXZWF0aGVyVXBkYXRlIiwid2VhdGhlckRhdGEiLCJtb3RpdmF0aW9uYWxNZXNzYWdlIiwiZ2VuZXJhdGVXaXRoR2VtaW5pIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwiZ2VuZXJhdGVGYWxsYmFja1RleHQiLCJsb2NhdGlvbiIsImNpdHkiLCJ0ZW1wZXJhdHVyZSIsInVuZGVmaW5lZCIsImRlc2NyaXB0aW9uIiwiaHVtaWRpdHkiLCJ3aW5kU3BlZWQiLCJ3ZWF0aGVyUGFydCIsImFkdmljZVBhcnQiLCJpbmNsdWRlcyIsInBhcnNlSW50IiwidG9TdHJpbmciLCJtb3RpdmF0aW9uYWxQYXJ0IiwidHJpbSIsImdlbkFJIiwiZ2VtaW5pTW9kZWwiLCJnZXRHZW5lcmF0aXZlTW9kZWwiLCJtb2RlbCIsInByb21wdCIsInJlc3VsdCIsImdlbmVyYXRlQ29udGVudCIsInJlc3BvbnNlIiwidGV4dCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/lib/gemini-api.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/mime-db","vendor-chunks/axios","vendor-chunks/follow-redirects","vendor-chunks/debug","vendor-chunks/get-intrinsic","vendor-chunks/form-data","vendor-chunks/asynckit","vendor-chunks/combined-stream","vendor-chunks/mime-types","vendor-chunks/proxy-from-env","vendor-chunks/ms","vendor-chunks/supports-color","vendor-chunks/has-symbols","vendor-chunks/delayed-stream","vendor-chunks/function-bind","vendor-chunks/es-set-tostringtag","vendor-chunks/get-proto","vendor-chunks/call-bind-apply-helpers","vendor-chunks/dunder-proto","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/has-flag","vendor-chunks/gopd","vendor-chunks/es-define-property","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/es-object-atoms","vendor-chunks/uuid","vendor-chunks/@google"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate-voice%2Froute&page=%2Fapi%2Fgenerate-voice%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-voice%2Froute.ts&appDir=C%3A%5CUsers%5CDELL%5COneDrive%5CDesktop%5Cml%20project%5Cai_weathervoice%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDELL%5COneDrive%5CDesktop%5Cml%20project%5Cai_weathervoice&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();